{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst publicKey = '50406529-48aaa3d05a76e0acf14414e94';\nconst url = 'https://pixabay.com/api/';\n\nexport function fetchImages(query) {\n    const currentURL = `${url}?key=${publicKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&page=1&per_page=20`\n    return axios.get(currentURL)\n        .then((response) => {\n            return response;\n        })\n        .catch((error) => {\n            throw new Error(error)\n        })\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst ul = document.querySelector('.gallery');\nlet lightbox = new SimpleLightbox('.image-li a', {\n  captionDelay: 250,\n  captionsData: 'alt',\n});\n\nexport function createGallery(images) {\n  const appendHtml = images.map(({largeImageURL,webformatURL,tags,likes,views,comments,downloads}) => {\n      return `<li class=\"image-li\">\n           <a href=\"${largeImageURL}\"> <img class=\"li-img\" src=\"${\n        webformatURL\n      }\" alt=\"${tags.split(',').slice(0, 3).join(',')}\"> </a>\n          <div class=\"div-upper\">\n            <ul>\n            <li>\n              <div class=\"div-inner\"><b>Likes</b>\n            ${likes}</div>\n            </li>\n\n            <li>\n             <div class=\"div-inner\"><b>Views</b>\n            ${views}</div>\n            </li>\n\n            <li>\n              <div class=\"div-inner\"><b>Comments</b>\n            ${comments}</div>\n            </li>\n\n            <li>\n             <div class=\"div-inner\"><b>Downloads</b>\n            ${downloads}</div>\n            </li>\n\n            </ul>\n          </div>\n        </li>`;\n    }).join(\"\");\n  ul.insertAdjacentHTML(\"beforeend\", appendHtml);\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    ul.innerHTML = \"\";\n}\n\nexport function showLoader() {\ndocument.querySelector('.hidden').style.display = \"flex\";\n}\n\nexport function hideLoader() {\n  document.querySelector(\".hidden\").style.display = \"none\";\n}","import { fetchImages } from './js/pixabay-api';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('input[name=\"input\"]');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  const enteredValue = input.value.trim();\n  clearGallery();\n  showLoader();\n  if (!enteredValue) {\n    hideLoader();\n    return iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search term.',\n      position: 'topRight',\n    });\n  }\n  fetchImages(enteredValue)\n    .then(resolve => {\n      if (resolve.data.hits.length <= 0) {\n        hideLoader();\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        form.reset();\n        return;\n      }\n      createGallery(resolve.data.hits);\n      hideLoader();\n      form.reset();\n    })\n    .catch(err => {\n      hideLoader(); \n      iziToast.error({\n        title: 'Error',\n        message: err.message,\n        position: 'topRight',\n      });\n    });\n});\n"],"names":["publicKey","url","fetchImages","query","currentURL","axios","response","error","ul","lightbox","SimpleLightbox","createGallery","images","appendHtml","largeImageURL","webformatURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","input","e","enteredValue","iziToast","resolve","err"],"mappings":"owBAEA,MAAMA,EAAY,qCACZC,EAAM,2BAEL,SAASC,EAAYC,EAAO,CAC/B,MAAMC,EAAa,GAAGH,CAAG,QAAQD,CAAS,MAAMG,CAAK,8EACrD,OAAOE,EAAM,IAAID,CAAU,EACtB,KAAME,GACIA,CACV,EACA,MAAOC,GAAU,CACd,MAAM,IAAI,MAAMA,CAAK,CACxB,CAAA,CACT,CCXA,MAAMC,EAAK,SAAS,cAAc,UAAU,EAC5C,IAAIC,EAAW,IAAIC,EAAe,cAAe,CAC/C,aAAc,IACd,aAAc,KAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAaD,EAAO,IAAI,CAAC,CAAC,cAAAE,EAAc,aAAAC,EAAa,KAAAC,EAAK,MAAAC,EAAM,MAAAC,EAAM,SAAAC,EAAS,UAAAC,CAAS,IACnF;AAAA,sBACSN,CAAa,+BAC3BC,CACD,UAASC,EAAK,MAAM,GAAG,EAAE,MAAM,EAAG,CAAC,EAAE,KAAK,GAAG,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,cAKvCC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,cAKLC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,cAKLC,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,cAKRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,cAMlB,EAAE,KAAK,EAAE,EACZZ,EAAG,mBAAmB,YAAaK,CAAU,EAC3CJ,EAAS,QAAS,CACtB,CAEO,SAASY,GAAe,CAC3Bb,EAAG,UAAY,EACnB,CAEO,SAASc,GAAa,CAC7B,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,MAClD,CAEO,SAASC,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,MACpD,CC7CA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,qBAAqB,EAE1DD,EAAK,iBAAiB,SAAUE,GAAK,CACnCA,EAAE,eAAgB,EAClB,MAAMC,EAAeF,EAAM,MAAM,KAAM,EAGvC,GAFAJ,EAAc,EACdC,EAAY,EACR,CAACK,EACH,OAAAJ,EAAY,EACLK,EAAS,MAAM,CACpB,MAAO,QACP,QAAS,8BACT,SAAU,UAChB,CAAK,EAEH1B,EAAYyB,CAAY,EACrB,KAAKE,GAAW,CACf,GAAIA,EAAQ,KAAK,KAAK,QAAU,EAAG,CACjCN,EAAY,EACZK,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACpB,CAAS,EACDJ,EAAK,MAAO,EACZ,MACR,CACMb,EAAckB,EAAQ,KAAK,IAAI,EAC/BN,EAAY,EACZC,EAAK,MAAO,CACb,CAAA,EACA,MAAMM,GAAO,CACZP,IACAK,EAAS,MAAM,CACb,MAAO,QACP,QAASE,EAAI,QACb,SAAU,UAClB,CAAO,CACP,CAAK,CACL,CAAC"}